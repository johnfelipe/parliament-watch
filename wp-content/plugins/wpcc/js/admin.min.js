wpcc_ops = new Array(

'Select a type in dropdown above to begin',
'<i><b>Field name</b>, no space should be used. This must be unique within your form.</i><br />\
<input type="text" value="'+wpcc_uniqid()+'" class="wpcc_text_name" name="wpcc_text_name" /><br /><br />\
<i><b>Field cost</b>, use only numbers. If you want a fixed amount to be charged, simply enter the amount. If you want to use what user enters in the textbox as amount, enter <b>this</b>.</i><br />\
<input type="text" value="this" class="wpcc_text_cost" name="wpcc_text_cost" /><br /><br />\
<i><b>Cost multiplier</b>, if you want to charge depending on what user inputs, this is the thing you need. Default is 1, use numbers only. Example : if user enters 3 in textbox and you want to charge 50 for each, so the total becomes 150, then 50 is cost multiplier.</i><br />\
<input type="text" value="1" class="wpcc_cost_mult" name="wpcc_cost_mult" /><br /><br />\
<i><b>Custom Cost multiplier</b>, if you want to get cost multiplier from a different field, say a text box that user enters the amount to be multiplied, can be done here. You need to create a simple field(textbox, select, etc) and assign an id to it. Then, use the id here in this box. If you dont want to use this, simply leave it blank. If you use it, above cost multiplier will not be applicable.</i><br />\
<input type="text" name="wpcc_cost_mult_type" class="wpcc_cost_mult_type"><br /><br />\
<i><b>Field text</b>, displays in email and final preview when this cost gets added up</i><br />\
<input type="text" value="Enter text here" class="wpcc_text_title" name="wpcc_text_title" />',

'<i><b>Field name</b>, no space should be used. This must be unique within your form.</i><br />\
<input type="text" value="'+wpcc_uniqid()+'" class="wpcc_text_name" name="wpcc_text_name" /><br /><br />\
<i><b>Main Field text</b>, displays in email and final preview when this cost gets added up</i><br />\
<input type="text" value="Enter text here" class="wpcc_text_title" name="wpcc_text_title" /><br /><br />\
<i><b>Cost multiplier</b>, if you want to charge depending on what user inputs, this is the thing you need. Default is 1, use numbers only. Example : if user selects 3 in selectbox and you want to charge 50 for each, so the total becomes 150, then 50 is cost multiplier.</i><br />\
<input type="text" value="1" class="wpcc_cost_mult" name="wpcc_cost_mult" /><br /><br />\
<i><b>Custom Cost multiplier</b>, if you want to get cost multiplier from a different field, say a text box that user enters the amount to be multiplied, can be done here. You need to create a simple field(textbox, select, etc) and assign an id to it. Then, use the id here in this box. If you dont want to use this, simply leave it blank. If you use it, above cost multiplier will not be applicable.</i><br />\
<input type="text" name="wpcc_cost_mult_type" class="wpcc_cost_mult_type"><br /><br />\
<b>Enter costs and options</b><br />\
<i>For costs, use only numbers. If you want a fixed amount to be charged, simply enter the amount. If you want to use option text as amount, enter <b>this</b>.<br />For options, use anything that you want to display in with <b>Main Field text</b> above.</i>\
<div class="wpcc_multi_input"><ul>\
<li><b>option </b><input type="text" value="Enter text here" class="wpcc_multi_title" name="wpcc_multi_title" /></li>\
<li><b>cost </b><input type="text" value="0" class="wpcc_multi_cost" name="wpcc_multi_cost" /></li>\
<li><a href="javascript:wpcc_add_option()">Add Option</a></li>\
</ul></div><div style="clear:both;"></div><br /><br />',

'<i><b>Field name</b>, no space should be used. This must be unique within your form.</i><br />\
<input type="text" value="'+wpcc_uniqid()+'" class="wpcc_text_name" name="wpcc_text_name" /><br /><br />\
<i><b>Main Field text</b>, displays in email and final preview when this cost gets added up</i><br />\
<input type="text" value="Enter text here" class="wpcc_text_title" name="wpcc_text_title" /><br /><br />\
<i><b>Cost multiplier</b>, if you want to charge depending on what user inputs, this is the thing you need. Default is 1, use numbers only. Example : if user selects a radio with value 3 and you want to charge 50 for each, so the total becomes 150, then 50 is cost multiplier.</i><br />\
<input type="text" value="1" class="wpcc_cost_mult" name="wpcc_cost_mult" /><br /><br />\
<i><b>Custom Cost multiplier</b>, if you want to get cost multiplier from a different field, say a text box that user enters the amount to be multiplied, can be done here. You need to create a simple field(textbox, select, etc) and assign an id to it. Then, use the id here in this box. If you dont want to use this, simply leave it blank. If you use it, above cost multiplier will not be applicable.</i><br />\
<input type="text" name="wpcc_cost_mult_type" class="wpcc_cost_mult_type"><br /><br />\
<b>Enter options and costs for radio buttons</b><br />\
<i>For costs, use only numbers. If you want a fixed amount to be charged, simply enter the amount. If you want to use option text as amount, enter <b>this</b>.<br />For options, use anything that you want to display in with <b>Main Field text</b> above.</i>\
<div class="wpcc_multi_input"><ul>\
<li><b>option </b><input type="text" value="Enter text here" class="wpcc_multi_title" name="wpcc_multi_title" /></li>\
<li><b>cost </b><input type="text" value="0" class="wpcc_multi_cost" name="wpcc_multi_cost" /></li>\
<li><a href="javascript:wpcc_add_option()">Add radio</a></li>\
</ul></div><div style="clear:both;"></div><br /><br />',

'<i><b>Field name</b>, no space should be used. This must be unique within your form.</i><br />\
<input type="text" value="'+wpcc_uniqid()+'" class="wpcc_text_name" name="wpcc_text_name" /><br /><br />\
<i><b>Main Field text</b>, displays in email and final preview when this cost gets added up</i><br />\
<input type="text" value="Enter text here" class="wpcc_text_title" name="wpcc_text_title" /><br /><br />\
<i><b>Cost multiplier</b>, if you want to charge depending on what user inputs, this is the thing you need. Default is 1, use numbers only. Example : if user selects a checkbox with value 3 and you want to charge 50 for each, so the total becomes 150, then 50 is cost multiplier.</i><br />\
<input type="text" value="1" class="wpcc_cost_mult" name="wpcc_cost_mult" /><br /><br />\
<i><b>Custom Cost multiplier</b>, if you want to get cost multiplier from a different field, say a text box that user enters the amount to be multiplied, can be done here. You need to create a simple field(textbox, select, etc) and assign an id to it. Then, use the id here in this box. If you dont want to use this, simply leave it blank. If you use it, above cost multiplier will not be applicable.</i><br />\
<input type="text" name="wpcc_cost_mult_type" class="wpcc_cost_mult_type"><br /><br />\
<b>Enter options and costs for checkboxes</b><br />\
<i>For costs, use only numbers. If you want a fixed amount to be charged, simply enter the amount. If you want to use option text as amount, enter <b>this</b>.<br />For options, use anything that you want to display in with <b>Main Field text</b> above.</i>\
<div class="wpcc_multi_input"><ul>\
<li><b>option </b><input type="text" value="Enter text here" class="wpcc_multi_title" name="wpcc_multi_title" /></li>\
<li><b>cost </b><input type="text" value="0" class="wpcc_multi_cost" name="wpcc_multi_cost" /></li>\
<li><a href="javascript:wpcc_add_option()">Add checkbox</a></li>\
</ul></div><div style="clear:both;"></div><br /><br />',

'<i>Field name, no space should be used. This must be unique within your form.</i><br />\
<input type="text" value="'+wpcc_uniqid()+'" class="wpcc_text_name" name="wpcc_text_name" /><br /><br />\
<i>Field text, displays in email and final preview in form, <b>only for additional input from visitor</b></i><br />\
<input type="text" value="Enter text here" class="wpcc_text_title" name="wpcc_text_title" /><br /><br />\
<i style="color:red;">To use the data retrieved from this field in email body setting, use [field_name]</i>',

'<i>Field name, no space should be used. This must be unique within your form.</i><br />\
<input type="text" value="'+wpcc_uniqid()+'" class="wpcc_text_name" name="wpcc_text_name" /><br /><br />\
<i>Field text, displays in email and final preview in form, <b>only for additional input from visitor</b></i><br />\
<input type="text" value="Enter text here" class="wpcc_text_title" name="wpcc_text_title" /><br /><br />\
<i style="color:red;">To use the data retrieved from this field in email body setting, use [field_name]</i>',

'<i><b>Field name</b>, no space should be used. This must be unique within your form.</i><br />\
<input type="text" value="'+wpcc_uniqid()+'" class="wpcc_text_name" name="wpcc_text_name" /><br /><br />\
<i><b>Field name to be used for %</b>, which is already created in your form. It must be a WPCC text box.</i><br />\
<input type="text" value="" class="wpcc_pcent_fieldname" name="wpcc_pcent_fieldname" /><br /><br />\
<i><b>% to be used</b>, use only numbers, do not include % symbol. Negative values can be used.</i><br />\
<input type="text" value="5" class="wpcc_pcent" name="wpcc_pcent" /><br /><br />\
<i><b>Field text</b>, displays in email and final preview when this cost gets added up</i><br />\
<input type="text" value="Enter text here" class="wpcc_text_title" name="wpcc_text_title" />',

'<i><b>Field name</b>, no space should be used. This must be unique within your form.</i><br />\
<input type="text" value="'+wpcc_uniqid()+'" class="wpcc_text_name" name="wpcc_text_name" /><br /><br />\
<i><b>% to be applied on total</b>, use only numbers, do not include % symbol. Negative values can be used.</i><br />\
<input type="text" value="5" class="wpcc_pcent" name="wpcc_pcent" /><br /><br />\
<i><b>Field text</b>, displays in email and final preview when this cost gets added up</i><br />\
<input type="text" value="Enter text here" class="wpcc_text_title" name="wpcc_text_title" />'
);

function wpcc_add_option(){
var xhtml = '<div style="clear:both;"></div><ul>\
<li><b>option </b><input type="text" value="Enter text here" class="wpcc_multi_title" name="wpcc_multi_title" /></li>\
<li><b>cost </b><input type="text" value="0" class="wpcc_multi_cost" name="wpcc_multi_cost" /></li>\
<li><a class="wpcc_remove_option" href="javascript:void(0)">Remove Option</a></li>\
</ul>';
jQuery('.wpcc_multi_input').append(xhtml);
wpcc_reinit();
}


jQuery(function() {
if(typeof(wpcc_domain)!=='undefined'){
jQuery('body').on('click', '.wpcc_remove_option', function(e){
jQuery(this).closest('ul').remove();
wpcc_reinit();
}); 


jQuery('body').on('change', '.wpcc-select-type', function(e){
var otype = jQuery('.wpcc-select-type').val();
jQuery('.wpcc-ground').html(wpcc_ops[otype]);
var wpcc_code = wpcc_get_code();
var final_code = jQuery('<div/>').text(wpcc_code).html();
jQuery('.wpcc_code').html(final_code);
}); 


jQuery('body').on('change keyup', '.wpcc_cost_mult_type, .wpcc_pcent_fieldname, .wpcc_pcent, .wpcc_text_name, .wpcc_cost_mult, .wpcc_text_cost, .wpcc_text_title, .wpcc_multi_title, .wpcc_multi_cost', function(e){
wpcc_reinit();
});
}
});



function wpcc_reinit(){
var wpcc_code = wpcc_get_code();
var final_code = jQuery('<div/>').text(wpcc_code).html();
jQuery('.wpcc_code').html(final_code);
}


function wpcc_uniqid (prefix, more_entropy) {
  if (typeof prefix === 'undefined') {
    prefix = "";
  }

  var retId;
  var formatSeed = function (seed, reqWidth) {
    seed = parseInt(seed, 10).toString(16); // to hex str
    if (reqWidth < seed.length) { // so long we split
      return seed.slice(seed.length - reqWidth);
    }
    if (reqWidth > seed.length) { // so short we pad
      return Array(1 + (reqWidth - seed.length)).join('0') + seed;
    }
    return seed;
  };

  // BEGIN REDUNDANT
  if (!this.php_js) {
    this.php_js = {};
  }
  // END REDUNDANT
  if (!this.php_js.uniqidSeed) { // init seed with big random int
    this.php_js.uniqidSeed = Math.floor(Math.random() * 0x75bcd15);
  }
  this.php_js.uniqidSeed++;

  retId = prefix; // start with prefix, add current milliseconds hex string
  retId += formatSeed(parseInt(new Date().getTime() / 1000, 10), 8);
  retId += formatSeed(this.php_js.uniqidSeed, 5); // add seed hex string
  if (more_entropy) {
    // for more entropy we add a float lower to 10
    retId += (Math.random() * 10).toFixed(8).toString();
  }

  return retId;
}


function wpcc_get_code(){
var otype = jQuery('.wpcc-select-type').val();

if(otype=='0'){var finalx = ''; }

if(otype=='1'){
var wpcc_multiplier = jQuery('.wpcc_cost_mult_type').val();
if(isNaN(wpcc_multiplier) || wpcc_multiplier!=''){
var wpcc_cust_mult_html = 'data-mult-from="'+jQuery('.wpcc_cost_mult_type').val()+'"';
} else {
var wpcc_cust_mult_html = 'data-mult="'+jQuery('.wpcc_cost_mult').val()+'"';
}
var finalx = '<h3>'+jQuery('.wpcc_text_title').val()+'</h3><input type="text" data-cost="'+jQuery('.wpcc_text_cost').val()+'" '+wpcc_cust_mult_html+' data-title="'+jQuery('.wpcc_text_title').val()+'" name="'+jQuery('.wpcc_text_name').val()+'" />'; }

if(otype=='2'){
var opx ='';
var ct = jQuery('.wpcc_multi_title').length;

jQuery( ".wpcc_multi_input ul" ).each(function(i) {
opx = opx+' <option data-cost="'+jQuery(this).find('.wpcc_multi_cost').val()+'">'+jQuery(this).find('.wpcc_multi_title').val()+'</option>';
});
var wpcc_multiplier = jQuery('.wpcc_cost_mult_type').val();
if(isNaN(wpcc_multiplier) || wpcc_multiplier!=''){
var wpcc_cust_mult_html = 'data-mult-from="'+jQuery('.wpcc_cost_mult_type').val()+'"';
} else {
var wpcc_cust_mult_html = 'data-mult="'+jQuery('.wpcc_cost_mult').val()+'"';
}
var finalx = '<h3>'+jQuery('.wpcc_text_title').val()+'</h3><select '+wpcc_cust_mult_html+' data-title="'+jQuery('.wpcc_text_title').val()+'" name="'+jQuery('.wpcc_text_name').val()+'">'+opx+'</select>';
}

if(otype=='3'){
var opx ='';
var ct = jQuery('.wpcc_multi_title').length;

jQuery( ".wpcc_multi_input ul" ).each(function(i) {
opx = opx+'<input type="radio" value="'+jQuery(this).find('.wpcc_multi_cost').val()+'" data-cost="this" data-title="'+jQuery(this).find('.wpcc_multi_title').val()+'" name="'+jQuery('.wpcc_text_name').val()+'" /> '+jQuery(this).find('.wpcc_multi_title').val()+'<br />';
});
var wpcc_multiplier = jQuery('.wpcc_cost_mult_type').val();
if(isNaN(wpcc_multiplier) || wpcc_multiplier!=''){
var wpcc_cust_mult_html = '<input type="hidden" data-mult-from="'+jQuery('.wpcc_cost_mult_type').val()+'" name="'+jQuery('.wpcc_text_name').val()+'-name" data-title="'+jQuery('.wpcc_text_title').val()+'" />';
} else {
var wpcc_cust_mult_html = '<input type="hidden" data-mult="'+jQuery('.wpcc_cost_mult').val()+'" name="'+jQuery('.wpcc_text_name').val()+'-name" data-title="'+jQuery('.wpcc_text_title').val()+'" />';
}
var finalx = '<h3>'+jQuery('.wpcc_text_title').val()+'</h3>'+wpcc_cust_mult_html+opx;
}

if(otype=='4'){
var opx ='';
var ct = jQuery('.wpcc_multi_title').length;

jQuery( ".wpcc_multi_input ul" ).each(function(i) {
opx = opx+'<input type="checkbox" value="'+jQuery(this).find('.wpcc_multi_cost').val()+'" data-cost="this" data-title="'+jQuery(this).find('.wpcc_multi_title').val()+'" name="'+jQuery('.wpcc_text_name').val()+'[]" /> '+jQuery(this).find('.wpcc_multi_title').val()+'<br />';
});
var wpcc_multiplier = jQuery('.wpcc_cost_mult_type').val();
if(isNaN(wpcc_multiplier) || wpcc_multiplier!=''){
var wpcc_cust_mult_html = '<input type="hidden" data-mult-from="'+jQuery('.wpcc_cost_mult_type').val()+'" name="'+jQuery('.wpcc_text_name').val()+'-name" data-title="'+jQuery('.wpcc_text_title').val()+'" />';
} else {
var wpcc_cust_mult_html = '<input type="hidden" data-mult="'+jQuery('.wpcc_cost_mult').val()+'" name="'+jQuery('.wpcc_text_name').val()+'-name" data-title="'+jQuery('.wpcc_text_title').val()+'" />';
}
var finalx = '<h3>'+jQuery('.wpcc_text_title').val()+'</h3>'+wpcc_cust_mult_html+''+opx;
}


if(otype=='5'){var finalx = '<h3>'+jQuery('.wpcc_text_title').val()+'</h3><input class="wpcc-xtra" type="text" name="'+jQuery('.wpcc_text_name').val()+'" />'; }

if(otype=='6'){var finalx = '<h3>'+jQuery('.wpcc_text_title').val()+'</h3><textarea class="wpcc-xtra" name="'+jQuery('.wpcc_text_name').val()+'"></textarea>'; }

if(otype=='7'){var finalx = '<h3>'+jQuery('.wpcc_text_title').val()+'</h3><h2 data-title="'+jQuery('.wpcc_text_title').val()+'" class="wpcc-pcent-field" data-pcent="'+jQuery('.wpcc_pcent').val()+'" data-field="'+jQuery('.wpcc_pcent_fieldname').val()+'" data-name="'+jQuery('.wpcc_text_name').val()+'"></h2>'; }

if(otype=='8'){var finalx = '<h3>'+jQuery('.wpcc_text_title').val()+'</h3><h2 data-title="'+jQuery('.wpcc_text_title').val()+'" class="wpcc-pcent-total" data-pcent="'+jQuery('.wpcc_pcent').val()+'" data-name="'+jQuery('.wpcc_text_name').val()+'"></h2>'; }

return finalx;
}